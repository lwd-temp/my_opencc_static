(function(){"use strict";function f(n,e){self.onmessage=async s=>{await e;const{name:r,args:o,transferableIndices:a}=s.data,t=[];let i;try{const c=n[r];if(typeof c!="function"){console.error(`${r} is not an exposed worker function`),self.close();return}const l=await c(...o);o.forEach((u,p)=>a.includes(p)&&t.push(u)),i={type:"success",result:l,transferables:t}}catch(c){const{message:l,name:u}=c;i={type:"error",error:{message:l,name:u}}}self.postMessage(i,t)}}function d(n,e){e=e||{};const{url:s,init:r}=e;return new Promise(o=>{self.Module={onRuntimeInitialized(){r&&r(),o(null)},locateFile(a,t){return(s||t)+a}},importScripts((s||"")+n)})}const m=d("opencc.js",{url:""});f({convert(n,e){return Module.ccall("convert","string",["string","string"],[n,e])}},m)})();
